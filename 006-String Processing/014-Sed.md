# ðŸ“˜ sed (Stream Editor) Cheat Sheet

`sed` (**stream editor**) is a powerful command-line tool used to perform text transformations on an **input stream** (stdin) or a **file**.  
It processes text **line by line**, applying specified editing commands.

---

## ðŸ”¹ Syntax
```bash
sed [OPTIONS] 'SCRIPT' [INPUTFILE]
```

- **OPTIONS** â†’ Flags modifying `sed` behaviour  
- **SCRIPT** â†’ The command or set of commands to execute  
- **INPUTFILE** â†’ The file to process (optional; if omitted, `sed` reads from standard input)  

---

## ðŸ”¹ Common Options
| Option | Description |
|--------|-------------|
| `-e SCRIPT` | Allows multiple scripts to run in sequence |
| `-i` | Edit the file **in place** (be cautious!) |
| `-f FILE` | Use a file containing multiple `sed` commands |
| `-n` | Suppress automatic printing of pattern space |

---

## ðŸ”¹ Example 1: Print Specific Lines
```bash
sed -n '1,5p' user-list.txt
```
- `-n` â†’ Suppresses automatic printing  
- `1,5p` â†’ Prints lines 1 through 5 from `user-list.txt`  

---

## ðŸ”¹ Example 2: Using `cat` with sed
```bash
cat [INPUTFILE] | sed OPTIONS [SCRIPT]
```

---

## ðŸ”¹ Practical Examples

### Print Specific Lines
```bash
sed -n '1,2p' passwd
```

### Print Empty Lines
```bash
sed -n '/^$/p' passwd
```

### Print Without Empty Lines
```bash
sed -n '/^$/!p' passwd
```

```bash
sed '/^$/d' passwd
```

### Print Ranges
```bash
# Print lines 1â€“10
sed -n '1,10p' passwd

# Print all except first 10
sed -n '1,10!p' passwd

# Print from line 25 to end
sed -n '25,$p' passwd
```

### Search Patterns
```bash
# Print lines that are empty
sed -n '/^$/p' passwd

# Print lines containing "bash"
sed -n '/bash/p' passwd

# Print 5 lines after match
sed -n '/bash/,+5p' passwd
```

### Delete Lines
```bash
# Delete lines with "bash"
sed '/bash/d' /etc/passwd

# Delete 3rd line
sed '3d' passwd

# Delete last line
sed '$d' passwd

# Delete lines containing "nologin"
sed '/nologin/d' passwd
```

### Substitution (Replace Text)
```bash
# Replace "bash" with "BASH"
sed -n 's/bash/BASH/p' passwd

# Replace "root" with "ROOT" globally
sed -n 's/root/ROOT/gp' passwd

# Replace only the 1st "root"
sed -n 's/root/ROOT/1p' passwd

# Replace only the 2nd "root"
sed -n 's/root/ROOT/2p' passwd
```

### Advanced Substitution
```bash
echo "Welcome To Armour Infosec" | sed 's/\(\b[A-Z]\)/(\1)/g'
```
ðŸ‘‰ This wraps each capital letter in parentheses.  

### Replace on Specific Lines
```bash
# Replace only in 4th line
sed '4 s/adm/ADM/g' passwd

# Replace "nologin" with "NOLOGIN" everywhere
sed -n 's/nologin/NOLOGIN/gp' passwd

# Replace only in 4th line
sed -n '4 s/nologin/NOLOGIN/gp' passwd

# Replace in lines 1â€“10
sed -n '1,10 s/nologin/NOLOGIN/gp' passwd
```

### Delete Variations
```bash
# Delete 3rd line
sed -n '3d' passwd

# Delete last line
sed '$d' passwd
```

### Insert Blank Lines
```bash
# Insert a blank line after each line
sed G passwd

# Insert two blank lines after each line
sed 'G;G' passwd
```

---

## âœ… Quick Notes
- Always test without `-i` to avoid accidental overwrites.  
- Use `-n` with `p` to control printing precisely.  
- Chain multiple commands with `;` or `-e`.  
- For long edits, save commands in a script file and run with `-f`.  

---